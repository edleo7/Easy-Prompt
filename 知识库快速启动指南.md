# 知识库快速启动指南

## 🚀 快速开始

### 第一步：启动后端服务

```bash
# 进入后端目录
cd /Users/lichengyou/EasyPrompt/backend

# 启动服务（端口 3002）
npm start
```

### 第二步：启动前端服务

```bash
# 新开一个终端，进入前端目录
cd /Users/lichengyou/EasyPrompt/frontend

# 启动开发服务器（端口 5173）
npm run dev
```

### 第三步：访问系统

1. 打开浏览器访问：`http://localhost:5173`
2. 使用测试账号登录：
   - 邮箱：`admin@example.com`
   - 密码：`admin123`

### 第四步：体验知识库功能

#### 查看知识库列表
1. 点击左侧导航栏的 "知识库管理"
2. 看到3个示例知识库卡片：
   - AI Prompt 最佳实践
   - 产品设计文档
   - 技术开发规范

#### 进入知识库详情
1. 点击 "AI Prompt 最佳实践" 卡片
2. 进入三栏布局的详情页：
   - **左侧**：文件夹树（可以看到"Prompt 基础"和"高级技巧"两个文件夹）
   - **中间**：文档编辑器
   - **右侧**：目录导航

#### 查看和编辑文档
1. 在左侧树中点击 "Prompt 基础" 文件夹展开
2. 点击 "Prompt 入门指南" 文档
3. 中间区域显示Markdown编辑器（左侧编辑，右侧实时预览）
4. 右侧自动生成文档目录
5. 修改文档内容，3秒后自动保存

#### 创建新文档
1. 在左侧树中右键点击文件夹
2. 选择 "新建文档"
3. 输入文档名称
4. 开始编辑

#### 创建文件夹
1. 在左侧树中右键点击空白区域或文件夹
2. 选择 "新建文件夹"
3. 输入文件夹名称
4. 文件夹创建成功

#### 切换编辑模式
1. 在编辑器顶部工具栏
2. 点击 "Markdown" 或 "富文本" 切换模式
3. Markdown模式：左右分屏，实时预览
4. 富文本模式：全屏编辑

## 📋 功能清单

### ✅ 已实现功能

**知识库管理**
- [x] 卡片式展示
- [x] 创建知识库
- [x] 编辑知识库（名称、描述、标签、封面）
- [x] 删除知识库
- [x] 搜索知识库

**文件夹管理**
- [x] 树形结构展示
- [x] 创建文件夹
- [x] 重命名文件夹
- [x] 删除文件夹（递归删除）

**文档管理**
- [x] 创建文档
- [x] 编辑文档
- [x] 保存文档（自动保存）
- [x] 删除文档
- [x] Markdown/富文本切换

**编辑器功能**
- [x] Markdown实时预览
- [x] 语法高亮
- [x] 自动保存（3秒防抖）
- [x] 未保存提示

**导航功能**
- [x] 面包屑导航
- [x] 返回按钮
- [x] 自动生成目录
- [x] 目录跳转

### ⏳ 待实现功能

**高级功能**
- [ ] 拖拽上传附件
- [ ] 图片粘贴
- [ ] 文档版本控制
- [ ] 实时协作
- [ ] 文档分享
- [ ] 权限管理
- [ ] 全文搜索
- [ ] 导入导出

## 🎯 测试场景

### 场景1：创建知识库
1. 点击右上角 "新建知识库" 按钮
2. 填写表单：
   - 名称：测试知识库
   - 描述：这是一个测试知识库
   - 标签：测试,Demo
3. 点击创建
4. 列表中出现新卡片

### 场景2：组织文档
1. 进入知识库详情
2. 创建文件夹结构：
   ```
   测试知识库
   ├── 第一章
   │   ├── 1.1 概述
   │   └── 1.2 原理
   └── 第二章
       └── 2.1 实践
   ```
3. 在各文件夹下创建文档

### 场景3：编写文档
1. 选择文档
2. 使用Markdown编写内容：
   ```markdown
   # 标题1
   
   ## 标题2
   
   这是内容...
   
   - 列表项1
   - 列表项2
   
   ​```javascript
   console.log('Hello World')
   ​```
   ```
3. 右侧自动生成目录
4. 左侧实时预览

### 场景4：切换编辑模式
1. 点击工具栏 "富文本" 按钮
2. 编辑器切换为富文本模式
3. 继续编辑
4. 切换回Markdown模式

## 🐛 常见问题

### Q1: 启动后端失败
**解决方案：**
```bash
# 检查端口是否被占用
lsof -i :3002

# 重新安装依赖
cd backend
npm install

# 重新执行数据库迁移
npx prisma db push
```

### Q2: 前端无法连接后端
**解决方案：**
```bash
# 检查环境变量
cat frontend/.env.development

# 应该包含：
VITE_API_BASE_URL=http://localhost:3002/api/v1
```

### Q3: 文档保存失败
**解决方案：**
1. 检查后端日志
2. 检查网络请求（浏览器开发者工具）
3. 确认知识库ID正确

### Q4: 目录不显示
**解决方案：**
1. 确保文档使用Markdown格式
2. 内容中包含 `#` 标题
3. 刷新页面

## 📞 技术支持

如遇问题，请检查：
1. 后端服务是否正常运行（端口3002）
2. 前端服务是否正常运行（端口5173）
3. 浏览器控制台是否有错误
4. 网络请求是否正常

## 🎉 开始使用

现在您已经了解了知识库的所有功能，开始创建您自己的知识库吧！

**推荐工作流：**
1. 创建知识库（按主题分类）
2. 创建文件夹结构（按章节组织）
3. 创建文档（编写内容）
4. 使用Markdown格式化（清晰美观）
5. 利用目录导航（快速定位）

祝您使用愉快！🚀

